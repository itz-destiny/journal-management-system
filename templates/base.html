{% load static %}
{% load auth_extras %}

<!DOCTYPE html>
<html>
<style>
  /* FORCE everything to fit - NO horizontal overflow */
  * {
    box-sizing: border-box;
  }

  html,
  body {
    overflow-x: hidden !important;
    max-width: 100vw !important;
    width: 100% !important;
  }

  body {
    margin: 0;
    padding: 0;
  }
  
  .container-fluid {
    padding-right: 15px !important;
    padding-left: 15px !important;
    max-width: 100% !important;
    overflow-x: hidden !important;
    width: 100% !important;
  }

  .container {
    max-width: 100% !important;
    overflow-x: hidden !important;
  }

  .row {
    margin-right: 0 !important;
    margin-left: 0 !important;
    max-width: 100% !important;
  }

  /* Prevent all wrappers from causing overflow */
  .wrapper {
    max-width: 100vw !important;
    overflow-x: hidden !important;
    width: 100% !important;
  }

  .content-wrapper,
  .main-wrapper {
    max-width: 100vw !important;
    overflow-x: hidden !important;
  }

  /* Fix AdminLTE navbar */
  .main-header {
    max-width: 100vw !important;
    width: 100% !important;
    left: 0 !important;
    right: 0 !important;
  }

  .main-header h5 {
    overflow: hidden !important;
    text-overflow: ellipsis !important;
    white-space: nowrap !important;
    max-width: calc(100vw - 200px) !important;
  }

  .navbar-nav {
    flex-wrap: nowrap !important;
  }

  /* Fix sidebar */
  .main-sidebar {
    max-width: 250px !important;
  }

  /* Adjust content when sidebar is visible */
  @media (min-width: 768px) {
    .sidebar-mini.sidebar-collapse .content-wrapper,
    .sidebar-mini.sidebar-collapse .main-footer {
      margin-left: 0 !important;
    }

    .sidebar-mini:not(.sidebar-collapse) .content-wrapper,
    .sidebar-mini:not(.sidebar-collapse) .main-footer {
      margin-left: 250px !important;
      width: calc(100% - 250px) !important;
      max-width: calc(100vw - 250px) !important;
    }
  }

  @media (max-width: 767px) {
    .content-wrapper,
    .main-footer {
      margin-left: 0 !important;
      width: 100% !important;
      max-width: 100vw !important;
    }

    .main-sidebar {
      transform: translateX(-250px);
    }

    .sidebar-open .main-sidebar {
      transform: translateX(0);
    }
  }

  /* Make ALL tables responsive with horizontal scroll */
  .table-responsive,
  .table-wrapper {
    display: block;
    width: 100%;
    overflow-x: auto;
    -webkit-overflow-scrolling: touch;
    margin-bottom: 1rem;
  }

  /* Wrap any table that's not already in a responsive container */
  table {
    width: 100%;
    max-width: 100%;
    display: block;
    overflow-x: auto;
    -webkit-overflow-scrolling: touch;
  }

  /* Always show horizontal scrollbar for tables */
  table::-webkit-scrollbar {
    height: 10px;
  }

  /* Force horizontal scroll on ALL screen sizes */
  .card-body table,
  .content table,
  .table-card table,
  .manuscripts-table,
  .users-table {
    display: block;
    overflow-x: auto;
    white-space: nowrap;
    -webkit-overflow-scrolling: touch;
  }

  /* Prevent cell content from wrapping */
  table td,
  table th {
    white-space: nowrap;
    min-width: 100px;
    padding: 0.75rem;
  }

  /* Allow specific columns to have more width */
  table td:first-child,
  table th:first-child {
    min-width: 150px;
  }

  @media (max-width: 768px) {
    table td,
    table th {
      min-width: 80px;
      padding: 0.5rem;
      font-size: 0.9rem;
    }
  }

  /* Scrollbar styling for better UX */
  .table-responsive::-webkit-scrollbar,
  .table-wrapper::-webkit-scrollbar,
  table::-webkit-scrollbar {
    height: 10px;
  }

  .table-responsive::-webkit-scrollbar-track,
  .table-wrapper::-webkit-scrollbar-track,
  table::-webkit-scrollbar-track {
    background: #f1f5f9;
    border-radius: 10px;
  }

  .table-responsive::-webkit-scrollbar-thumb,
  .table-wrapper::-webkit-scrollbar-thumb,
  table::-webkit-scrollbar-thumb {
    background: #cbd5e1;
    border-radius: 10px;
  }

  .table-responsive::-webkit-scrollbar-thumb:hover,
  .table-wrapper::-webkit-scrollbar-thumb:hover,
  table::-webkit-scrollbar-thumb:hover {
    background: #94a3b8;
  }

  /* Fix content wrapper - ensure everything fits */
  .content-wrapper {
    min-width: 0 !important;
    width: 100% !important;
    max-width: 100vw !important;
    position: relative;
    background: #f4f6f9;
    overflow-x: hidden !important;
  }

  /* Main content container */
  .content {
    padding: 1rem !important;
    max-width: 100% !important;
    overflow-x: hidden !important;
    width: 100% !important;
  }

  /* Ensure all dashboard cards fit */
  .card,
  .info-box,
  .small-box {
    max-width: 100% !important;
    overflow: hidden !important;
    box-sizing: border-box !important;
  }

  /* ALL columns must fit */
  [class*="col-"] {
    padding-left: 10px !important;
    padding-right: 10px !important;
    max-width: 100% !important;
    box-sizing: border-box !important;
  }

  /* Dashboard grids - ensure they fit */
  .summary-grid,
  .info-grid,
  .manuscripts-grid,
  .review-card {
    width: 100% !important;
    max-width: 100% !important;
    box-sizing: border-box !important;
  }

  /* Any div inside content must not overflow */
  .content > *,
  .content-wrapper > *,
  .container-fluid > * {
    max-width: 100% !important;
    box-sizing: border-box !important;
  }

  @media (max-width: 768px) {
    .content {
      padding: 0.5rem !important;
    }

    [class*="col-"] {
      padding-left: 5px !important;
      padding-right: 5px !important;
    }

    /* Stack grids on mobile */
    .summary-grid,
    .info-grid,
    .manuscripts-grid {
      grid-template-columns: 1fr !important;
      gap: 0.75rem !important;
      display: grid !important;
    }

    /* Ensure cards don't overflow */
    .card,
    .summary-card,
    .info-card,
    .manuscript-card,
    .review-card {
      width: 100% !important;
      max-width: 100% !important;
      margin-left: 0 !important;
      margin-right: 0 !important;
      box-sizing: border-box !important;
    }

    /* Ensure no element can overflow */
    * {
      max-width: 100vw !important;
    }

    /* But allow tables to scroll */
    table,
    .table-responsive {
      max-width: 100% !important;
    }
  }
  
  /* Ensure proper stacking context */
  .wrapper {
    position: relative;
    min-height: 100vh;
    overflow-x: hidden;
  }

  /* Remove old sidebar styles */
</style>

{% block head %}


<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">

  <!-- Tell the browser to be responsive to screen width -->
  <meta name="viewport" content="width=device-width, initial-scale=1">

  {% include "static_includes/adminlte_css.html" %}
  <link rel="stylesheet" href="{% static 'css/modern-sidebar.css' %}">


  <title> {% block title %} {% endblock %}</title>

  {% block head_css %}
  {% endblock head_css%}
</head>

{% endblock head %}

<body class="hold-transition sidebar-mini layout-fixed">

  <div class="wrapper">

    <!-- Navbar -->
    <nav class="main-header navbar navbar-expand navbar-white navbar-light">
      <!-- Left navbar links -->
      <ul class="navbar-nav">
        <li class="nav-item">
          <a class="nav-link" data-widget="pushmenu" href="#"><i class="fas fa-bars" style="background-color: black;"></i></a>
        </li>
      </ul>
      <h5 style="margin-left: 10px;margin-top: 5px;">Journal Management  System</h5>

 <!----------------------------------------------------------------- Right navbar links --------------------------------------------------->
                            {% include "static_includes/right_navbar.html" %}
 <!----------------------------------------------------------------- Right navbar links --------------------------------------------------->


    <!-- Main Sidebar Container -->
    {% include 'sidebar/sidebar.html'%}

    <!-- Content Wrapper. Contains page content -->
    <div class="content-wrapper">
      <!-- Content Header (Page header) -->
      <div class="content-header">
        <div class="container-fluid">
          <div class="row">
            <div class="col-sm-6">
              <h2 class="m-0 text-dark">
                <!-- {% block page_title %}{% endblock page_title %} -->
              </h2>

            </div>

            <div class="col-sm-6">
              <ol class="breadcrumb float-sm-right">
                <!-- <li class="breadcrumb-item"><a href="/admin_content/">Home</a></li> -->
              </ol>
            </div>

            <!-- /.col -->
          </div><!-- /.row -->
        </div><!-- /.container-fluid -->
      </div>
      <!-- /.content-header -->

      {% block main_content %}{% endblock main_content %}
      {% block content %}{% endblock %}
    </div>


    <!-- /.content-wrapper -->

  </div>

  


  <!----------For AdminLTE bootstrap js link--------------->
  {% include "static_includes/adminlte_jquery.html" %}
  <!--------------for datatables---------------------->
  {% include "static_includes/datatables_design_link.html" %}
  <!--for datatables csv pdf -- code --------------->
  {% include "static_includes/datatables_js.html" %}
  <!-------------for calendar static------------------>



  {% block custom_css %}{% endblock custom_css %}
  {% block custom_js %}{% endblock custom_js %}
  {% block javascript %}{% endblock %}
    
    <!-- Auto-wrap tables for mobile responsiveness -->
    <script>
      $(document).ready(function() {
        // Wrap all tables that aren't already in a responsive container
        $('table').each(function() {
          if (!$(this).parent().hasClass('table-responsive') && 
              !$(this).parent().hasClass('table-wrapper') &&
              !$(this).parent().hasClass('dataTables_wrapper')) {
            $(this).wrap('<div class="table-responsive"></div>');
          }
        });

        // Fix overflow issues - force everything to fit
        function fixOverflow() {
          const viewportWidth = $(window).width();
          
          // Check for overflow elements
          $('*').each(function() {
            const element = $(this);
            const rect = this.getBoundingClientRect();
            
            // If element extends beyond viewport
            if (rect.right > viewportWidth) {
              // Force it to fit
              element.css({
                'max-width': '100%',
                'overflow-x': 'auto',
                'box-sizing': 'border-box'
              });
            }
          });
        }

        // Run on load and resize
        fixOverflow();
        $(window).on('resize', fixOverflow);
      });
    </script>

    <!-- Custom sidebar dropdown - Load after AdminLTE -->
    <script>
      // Override AdminLTE treeview to ensure our dropdowns work
      $(document).ready(function() {
          // Remove AdminLTE's treeview binding
          $('[data-widget="treeview"]').off('click');
          
          // Our custom dropdown handler
          $('.nav-sidebar .has-treeview > a').on('click', function(e) {
              e.preventDefault();
              e.stopPropagation();
              
              var $parentItem = $(this).parent('.has-treeview');
              var $treeview = $parentItem.find('> .nav-treeview');
              
              // Close other menus
              $('.nav-sidebar .has-treeview').not($parentItem).removeClass('menu-open');
              $('.nav-sidebar .nav-treeview').not($treeview).slideUp(200);
              
              // Toggle current menu
              $parentItem.toggleClass('menu-open');
              $treeview.slideToggle(200);
              
              return false;
          });
          
          // Set active state
          var currentPath = window.location.pathname;
          $('.nav-sidebar .nav-link').each(function() {
              var href = $(this).attr('href');
              if (href && href !== '#' && currentPath.indexOf(href) >= 0 && href.length > 1) {
                  $(this).addClass('active');
                  $(this).closest('.has-treeview').addClass('menu-open');
                  $(this).closest('.nav-treeview').show();
              }
          });
      });
    </script>
    <!-- ./wrapper -->
    <div class="row no-print">
      <footer class="main-footer">
        <strong>Copyright &copy; 2021 <a href=""></a>.</strong> All rights
        reserved.
        <div class="float-right d-none d-sm-inline-block">
          <b>Version</b> 2.1
        </div>
      </footer>
    </div>

</body>
<script
type="text/javascript"
src="{% static 'flipbook/pdfjs-flipbook/js/jquery.fancybox.min.js' %}"
></script>
  <!-- flipbook js -->
  <link
  rel="stylesheet"
  type="text/css"
  href="{% static 'flipbook/pdfjs-flipbook/css/jquery.fancybox.min.css' %}"
/>
<link rel="stylesheet" href="{% static 'plugins/select2-bootstrap4-theme/select2-bootstrap4.css' %}">
<link rel="stylesheet" href="{% static 'plugins/select2/css/select2.css' %}">
<script src="{% static 'plugins/jquery-ui/jquery-ui.min.js' %}"></script>

<script>
  


    $(function(){
      $('.select').select2({theme: 'bootstrap4'});
      $('.selectmultiple').select2({theme: 'bootstrap4'});
  });


  

</script>

</html>